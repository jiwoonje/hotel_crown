<html layout:decorate="~{admin_layout}">


<th:block layout:fragment="content">

	<!-- Begin Page Content -->
	<div class="container-fluid">
		<!-- Page Heading -->
		<h1 class="h3 mb-2 text-gray-800">시설 예약 자세히 보기</h1>

		<!-- DataTales Example -->
		<div class="card shadow mb-4">
			<div class="card-header py-3">
				<span class="m-0 font-weight-bold text-primary" th:text="${facilityReservation.seq}"></span>
				
				<!-- 수정, 삭제 버튼
				<a th:href="@{|/memberModify/${member.seq}|}"
					class="btn btn-dark">수정</a>
				
				<button class="btn btn-dark">수정</button>
				<button class="btn btn-danger">삭제</button>
				 -->
			</div>
			<div class="card-body">
				<div class="table-responsive">
				
					<table class="table table-bordered" width="100%" cellspacing="0">
						
						<tbody>
							<tr>
								<th>예약번호</th>
								<td th:text="${facilityReservation.seq}"></td>
							</tr>
							<tr>
								<th>회원ID</th>
								<td th:text="${facilityReservation.fmember.mid}"></td>
							</tr>
							<tr>
								<th>시설 종류</th>
								<td th:text="${facilityReservation.ffacility.fid}"></td>
							</tr>
							<tr>
								<th>이용 날짜</th>
								<td th:text="${facilityReservation.date}"></td>
							</tr>
							<tr>
								<th>총 인원</th>
								<td th:text="${facilityReservation.cnt}"></td>
							</tr>
						</tbody>
					</table>
					

					
				</div>
			</div>
		</div>
		<a class="btn btn-dark" th:href="@{/getFacilityReservationList}">뒤로가기</a>
		
		<a th:href="@{|/updateFacilityReservation/${facilityReservation.seq}|}" 
        th:if ="${facilityReservation.seq != null and 
        #authentication.getPrincipal().getUsername() == facilityReservation.fmember.mid}"           	
        th:text ="수정"
        class="btn btn-dark"></a>
	    
	    <a href="javascript:void(0)"
	    th:data-uri="@{|/deleteFacilityReservation/${facilityReservation.seq}|}"	           		
        th:if ="${facilityReservation.seq != null and 
        #authentication.getPrincipal().getUsername() == facilityReservation.fmember.mid}"
	    th:text="삭제"
	    class="delete btn btn-dark"></a>
	</div>
	<!-- /.container-fluid -->
	<!-- End of Main Content -->
	
<script layout:fragment="script" type='text/javascript'>
const delete_elements = document.getElementsByClassName("delete");
Array.from(delete_elements).forEach(function(element) {
    element.addEventListener('click', function() {
        if(confirm("정말로 삭제하시겠습니까?")) {
            location.href = this.dataset.uri;
        };
    });
});
</script>

	
	

</th:block>

</html>
